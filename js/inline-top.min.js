var dom=dom||{},global=global||{};dom.body=document.getElementsByTagName("body")[0],dom.body.className="",dom.script=document.getElementsByTagName("script")[0],global.artworkSizes=[200,400,600,1200,1500],global.loadScript=function(e,t,a){var l=!1,o=document.createElement("script");o.type="text/javascript",o.async="async",o.onload=o.onreadystatechange=function(){l||this.readyState&&"complete"!=this.readyState||(l=!0,t&&t(a))},dom.script.parentNode.insertBefore(o,dom.script),o.src=e},global.getImageWidth=function(e){for(var t=global.artworkSizes[global.artworkSizes.length-1],a=0;a<global.artworkSizes.length;a++)if(e<=global.artworkSizes[a]){t=global.artworkSizes[a];break}return t};var stylesheet=document.createElement("link");if(stylesheet.href="/css/style."+cacheBuster+".css",stylesheet.rel="stylesheet",stylesheet.type="text/css",stylesheet.media="all",document.getElementsByTagName("head")[0].appendChild(stylesheet),dom.grid=document.getElementById("grid"),global.layout=function(e){var t=new Masonry(e,{itemSelector:"div.grid-item",percentPosition:!0,transitionDuration:0})},global.updateImage=function(e){var t=e.offsetWidth,a=e.getElementsByTagName("img")[0];if(a.complete?e.className+=" complete":a.onload=function(){-1===(" "+e.className+" ").indexOf(" complete ")&&(e.className+=" complete")},t>100){var l=e.getAttribute("data-src");if(l&&t){e.className+=" loading";var o=global.getImageWidth(t),s=new Image;s.onload=function(){a.src=s.src,e.className=e.className.replace(" loading","")},s.onerror=function(){e.className=e.className.replace(" loading","")},s.src=l.replace("100x100",o+"x"+o)}}else a.onerror=function(){e.parentElement.removeChild(e)}},dom.grid){global.loadScript("https://cdnjs.cloudflare.com/ajax/libs/masonry/3.3.1/masonry.pkgd.min.js",global.layout,dom.grid);for(var items=dom.grid.children,i=0;i<items.length;i++)global.updateImage(items[i])}